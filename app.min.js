!function(t){var e=function(){function t(){dataLayer.push(arguments)}var e="UA-85802533-1",n="ga-disable-"+e;if(window.dataLayer=window.dataLayer||[],t("js",new Date),t("config",e),document.dariahDisableGtm=function(){document.cookie=n+"=true; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/",window[n]=!0,alert("Thanks. We have set a cookie so that Google Analytics data collection will be disabled on your next visit.")},document.cookie.indexOf(n+"=true")>-1)window[n]=!0;else{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=("https:"==document.location.protocol?"https://www":"http://www")+".googletagmanager.com/gtag/js?id="+e;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(i,a)}},n=function(e){e.preventDefault(),e.stopPropagation(),t("#mc_message").empty(),t("#mc_signup_form :input").prop("disabled",!0);var n={firstname:t("#mc_mv_FNAME").val(),lastname:t("#mc_mv_LNAME").val(),email:t("#mc_mv_EMAIL").val()};t.post(t(this).attr("action"),n).done(function(e){t("#mc_signup_form :input").prop("disabled",!1),e.code<400&&t("#mc_signup_form :input[type=text]").val(""),t("#mc_message").html('<span class="'+e.state+'">'+e.message+"</span>")}).fail(function(e){t("#mc_signup_form :input").prop("disabled",!1),t("#mc_message").html('<span class="error">Some problem occurred, please try again</span>')})},i=function(e){e.preventDefault(),e.stopPropagation(),t(".person-desc").removeClass("full"),t(this).closest(".person-desc").addClass("full")};t(window).ready(function(){e();var a=[];navigator.userAgent.match(/(iPad|iPhone|iPod)/i)&&a.push("device-ios"),navigator.userAgent.match(/android/i)&&a.push("device-android");var o=document.getElementsByTagName("html")[0];a.length&&a.push("on-device"),o.classList&&o.classList.add.apply(o.classList,a),t(".person-desc .see-more").on("click",i),t("#mc_signup_form").on("submit",n)})}(jQuery),function(t){function e(t,e){t.openPopup()}var n,i,a='<p class="title">DARIAH-EU Coordination Office</p>Centre Marc Bloch<br />Friedrichstra√üe 191<br />D-10117 Berlin<br />Germany',o={lat:52.510791,lng:13.389658},s="/wp-content/themes/thefox-child/images/",r=function(t){e(t.target,a)},l=function(){i=L.map("contactMap",{scrollWheelZoom:!1,minZoom:4,maxZoom:18}),i.setView(o,16),L.tileLayer("http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png").addTo(i),n=L.icon({iconUrl:s+"contact-marker.png",iconSize:[20,20],iconAnchor:[10,10],popupAnchor:[1,-20]});var t=L.marker(o,{icon:n});t.bindPopup(a),t.on("click",r),t.on("add",r),t.addTo(i)};t(window).ready(function(){0!==t("#contactMap").length&&l()})}(jQuery),function(t){function e(){equalheight(".menu-home-container .description"),equalheight(".app-category .app-content"),equalheight(".item-list li")}equalheight=function(e){var n,i=0,a=0,o=[];t(e).each(function(){if(n=t(this),t(n).height("auto"),topPostion=n.position().top,a!=topPostion){for(currentDiv=0;currentDiv<o.length;currentDiv++)o[currentDiv].height(i);o.length=0,a=topPostion,i=n.height(),o.push(n)}else o.push(n),i=i<n.height()?n.height():i;for(currentDiv=0;currentDiv<o.length;currentDiv++)o[currentDiv].height(i)})},t(window).ready(function(){e(),t(".tnp-email").attr("placeholder","E-mail")}),t(window).resize(e)}(jQuery),function(t){function e(e){e.preventDefault(),e.stopPropagation(),u(t(e.target).data("tab-id"))}function n(t,e){e.on("add",i),e.on("click",a)}function i(e){var n=e.target,i=n.feature.properties.ISO3,a=I.countries[i];a&&t(n._path).addClass(a.status)}function a(t){if(P===E){var e=t.target,n=e.feature.properties.ISO3,i=I.countries[n];i&&(c(i),l(),D=L.marker([i.capital.latitude,i.capital.longitude],{icon:O}).addTo(j),d([n]),window.location.hash="#"+n.toLowerCase())}}function o(t){var e=I.countries[t];c(e),l(),D=L.marker([e.capital.latitude,e.capital.longitude],{icon:O}).addTo(j),d([t])}function s(t){var e=j.project(t),n=window.innerWidth<768?0:-300,i=0;e=new L.point(e.x+n,e.y+i),target=j.unproject(e),j.panTo(target)}function r(e,n,i){b(),t("body").removeClass("fixed");var a="";for(var o in I.countries){var s=I.countries[o];s.id===parseInt(e.country,10)&&(a=s.name)}var r="<p>"+a+"</p>";r+="<ul>",r+=I.projects.filter(function(t){return n.indexOf(t.id)!==-1}).map(function(t){return'<li><a href="#" data-project-id="'+t.id+'" data-institution-id="'+e.id+'">'+t.name+"</a></li>"}).join(""),r+="</ul>",i.unbindPopup(),i.bindPopup(r).openPopup()}function l(){D&&D.remove()}function c(e){if(!e)return t("#dariahWindow").hide(),void t("body").removeClass("fixed");b(),w();var n=t("#dariahWindow");selectedCountry=e,t(n).removeClass(),t(n).addClass(E),t(n).find("h1").html(selectedCountry.name+"<span>("+selectedCountry.statusName+")</span>"),t(n).find("li:nth-child(1) a").html("National<br />Coordinating<br />Institution"),t(n).find("li:nth-child(2) a").html("Partner<br />Institutions"),t(n).find("li:nth-child(3) a").html("Cooperating<br />Partners");var i;0!==selectedCountry.entities.length||selectedCountry.national.persons||selectedCountry.national.institutions||0!==selectedCountry.nationalInstitutions.length||selectedCountry.coordinator?(t(n).find("li:nth-child(1)").show(),i=1):t(n).find("li:nth-child(1)").hide(),0===selectedCountry.partnerInstitutions.length?t(n).find("li:nth-child(2)").hide():(t(n).find("li:nth-child(2)").show(),i=i?i:2),0===selectedCountry.projects.length?t(n).find("li:nth-child(3)").hide():(t(n).find("li:nth-child(3)").show(),i=i?i:3),u(i)}function p(e,n){if(!e)return t("#dariahWindow").hide(),void t("body").removeClass("fixed");var i,a=I.projects.filter(function(t){return t.id===e});if(1===a.length){i=a[0],w();var o=t("#dariahWindow");_=i;var s=I.institutions.filter(function(t){return _.consortiums.indexOf(t.id.toString())!==-1}),r=[];for(var l in I.countries){var c=I.countries[l];s.map(function(t){parseInt(t.country,10)===c.id&&r.indexOf(c.name)===-1&&r.push(c.name)})}r.sort(),t(o).removeClass(),t(o).addClass(S),1===r.length?t(o).find("h1").text(_.name+"("+r.join(", ")+")"):t(o).find("h1").html(_.name+"<span>("+r.join(", ")+")</span>"),t(o).find("li:nth-child(1) a").text("Project"),t(o).find("li:nth-child(2) a").text("Coordinator"),t(o).find("li:nth-child(3) a").text("Consortium"),t(o).find("li:nth-child(1)").show(),t(o).find("li:nth-child(3)").show(),_.coordinator?t(o).find("li:nth-child(2)").show():t(o).find("li:nth-child(2)").hide(),u(1);var p=s.map(function(t){return t.id});n&&p.push(parseInt(n,10)),_.coordinator&&p.push(parseInt(_.coordinator)),v(t.unique(p))}}function d(e){x.eachLayer(function(n){if(e&&e.indexOf(n.feature.properties.ISO3)!==-1){var i=j.project(n.getBounds().getCenter());window.innerWidth>767&&(i=new L.point(i.x-250,i.y+0));var a=j.unproject(i);j.panTo(a),t(n._path).addClass("selected")}else t(n._path).removeClass("selected")})}function u(e){switch(t("#dariahWindow .content").scrollTop(0),t("#dariahWindow li").each(function(){t(this).removeClass(),t(this).find("a").data("tab-id")==e&&t(this).addClass("selected")}),P){case E:t("#dariahWindow .content").html(f(e)),t("#dariahWindow .content a").on("click",h);break;case S:t("#dariahWindow .content").html(m(e)),t("#dariahWindow .content a").on("click",h)}}function h(e){e.preventDefault(),e.stopPropagation(),t(e.target).data("institution-id")||window.open(t(e.target).attr("href"),"_blank")}function f(t){var e="";switch(t){case 1:0!==selectedCountry.entities.length&&(e+='<p class="reset">Representing Entity:</p>',e+=selectedCountry.entities.map(function(t){return"<h2>"+t.name+"</h2>"}).join("")),(selectedCountry.national.persons||selectedCountry.national.institutions)&&(e+='<p class="point">National Representative:',selectedCountry.national.persons&&(e+=selectedCountry.national.persons.map(function(t){var e=I.persons[parseInt(t,10)];return"<span>"+e.firstname+" "+e.lastname+"</span>"}).join("")),selectedCountry.national.institutions&&(e+=selectedCountry.national.institutions.map(function(t){var e=I.institutions.filter(function(e){return e.id===parseInt(t,10)}),n='<span class="ico-marker">'+e[0].name+"</span>";return n}).join(""))),e+="</p>";var n=I.institutions.filter(function(t){return selectedCountry.nationalInstitutions.indexOf(t.id)!==-1}).sort(C);0!==n.length&&(e+='<p class="point">National Coordinating Institution:',e+=n.map(function(t){var e=t.website?'<a href="'+t.website+'" class="ico-marker">'+t.name+"</a>":'<span class="ico-marker">'+t.name+"</span>";return e}).join(""),e+="</p>");var i=I.persons[parseInt(selectedCountry.coordinator,10)];i&&(e+='<p class="point">National Coordinator:',e+=""!==i.link?'<a href="'+i.link+'" class="ico-person">'+i.firstname+" "+i.lastname+"</a>":'<span class="ico-person">'+i.firstname+" "+i.lastname+"</span>",e+="</p>"),v([]);break;case 2:var a=I.institutions.filter(function(t){return selectedCountry.partnerInstitutions.indexOf(t.id)!==-1}).sort(C);e+="<h2>Partner Institutions:</h2>",e+='<ul class="list">',e+=a.map(function(t){var e=t.website?'<a href="'+t.website+'">'+t.name+"</a>":t.name;return"<li>"+e+"</li>"}).join(""),e+="</ul>",v(a.map(function(t){return t.id}));break;case 3:var o=I.institutions.filter(function(t){return selectedCountry.cooperatingInstitutions.indexOf(t.id)!==-1}).sort(C);e+="<h2>Cooperating partners:</h2>",e+='<ul class="list">',e+=o.map(function(t){var e=t.website?'<a href="'+t.website+'">'+t.name+"</a>":t.name;return"<li>"+e+"</li>"}).join(""),e+="</ul>",v([])}return e}function m(t){var e="";switch(t){case 1:e+="<div>",e+="<h2>"+_.fullname+"</h2>",e+='<div id="wp-content">'+_.content+"</div>",""!==_.website&&(e+='<p class="point">Website:<a href="'+_.website+'">'+_.website+"</a></p>"),_.image&&(e+='<img class="featured" src="'+_.image+'" />'),e+='<p class="point">Lien:<a href="'+_.link+'">'+_.name+"</a></p>",e+="</div>";break;case 2:var n=I.institutions.filter(function(t){return t.id==_.coordinator});if(1===n.length){var i=n[0];e+='<h2 class="uppercase">'+i.name+"</h2>",e+="<p>"+i.content+"</p>",i.website&&""!==i.website&&(e+='<p class="point">Website:<a href="'+i.website+'">'+i.website+"</a></p>"),e+=_.contacts.map(function(t){var e=I.persons[t],n="";if(e)return n+=""!==e.link?'<p class="point">Contact:<a href="'+e.link+'">'+e.firstname+" "+e.lastname+"</a></p>":'<p class="point">Contact:<span>'+e.firstname+" "+e.lastname+"</span></p>",""!==e.email&&(n+='<p class="point">Email:<a href="mailto:'+e.email+'">'+e.email+"</a></p>"),n})}break;case 3:var a=I.institutions.filter(function(t){return _.consortiums.indexOf(t.id.toString())!==-1}).sort(C);e+="<h2>Partners institutions:</h2>",e+='<ul class="list">',e+=a.map(function(t){var e=t.website?'<a href="'+t.website+'">'+t.name+"</a>":t.name;return"<li>"+e+"</li>"}).join(""),e+="</ul>"}return e}function v(t){M.map(function(e){t?t.indexOf(e.options.institution.id)!==-1?A.addLayer(e):A.hasLayer(e)&&A.removeLayer(e):e.options.institution.coordinators?A.addLayer(e):A.hasLayer(e)&&A.removeLayer(e)})}function g(e){switch(_=null,P=e,d([]),l(),t("#dariahWindow").hide(),t("body").removeClass("fixed"),P){case E:j.removeLayer(A),v([]);break;case S:j.addLayer(A),v()}t("#mapNav li").each(function(){t(this).removeClass(),t(this).find("a").data("type")===P&&t(this).addClass("selected")})}function w(){t("#dariahWindow").show(),window.innerWidth<768&&t("html,body").animate({scrollTop:t("#mapContainer").offset().top-t(".mt_menu").height()-10},"slow"),t("body").addClass("fixed"),t("#dariahIntro").hide(),j.closePopup()}function b(){j._handlers.forEach(function(t){t.disable()})}function y(){j._handlers.forEach(function(t){t.enable()})}function C(t,e){var n=t.name.toLowerCase(),i=e.name.toLowerCase();return n<i?-1:n>i?1:0}function k(t){return t?L.icon({iconUrl:N+"images/map-leaflet-marker-project-coordinator-"+t+".png",iconSize:[22,28],iconAnchor:[11,24],popupAnchor:[1,-20]}):W}var x,j,P,_,A,D,I,T,W,O,E="country",S="project",M=[],N="/wp-content/themes/thefox-child/",U=function(){var e=1;I.institutions.map(function(t){if(""!==t.latitude&&""!==t.longitude){var n=k();t.coordinators&&(n=k(e),e++),M.push(L.marker([t.latitude,t.longitude],{icon:n,institution:t}).on("click",Z))}}),A=L.layerGroup(M).addTo(j),setTimeout(function(){t("#mapContainer .loader").fadeOut("300",function(){t("#mapContainer").removeClass("loading")})},500)},Z=function(t){var e=t.target.options.institution,n=e.coordinators||e.projects;_&&e.coordinators&&e.projects&&(n=e.coordinators.concat(e.projects)),n.length>1?r(e,n,t.target):1===n.length?(s(t.latlng),p(n[0],e.coordinators?e.id:null)):window.alert("No Project for "+e.name)},z=function(t){t.popup&&(T=t.popup,t.popup._wrapper.addEventListener("click",B))},B=function(t){t.preventDefault(),t.stopPropagation();var e=parseInt(t.target.getAttribute("data-project-id"),10),n=parseInt(t.target.getAttribute("data-institution-id"),10);s(T._latlng),p(e,n)},Q=function(t){t.popup&&(T=null,t.popup._wrapper.removeEventListener("click",B))},R=function(){j=L.map("dariahMap",{scrollWheelZoom:!1,minZoom:3,maxZoom:16});var t={lat:window.innerWidth<768?55:50,lng:window.innerWidth<768?4:-18};j.setView(t,window.innerWidth<=768?3:4),j.on("popupopen",z),j.on("popupclose",Q),L.tileLayer("http://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png").addTo(j),x=L.geoJson(euCountries,{onEachFeature:n}).addTo(j),U();var e=L.control();e.onAdd=function(t){for(var e=L.DomUtil.create("div","info legend"),n=["Member Countries","Cooperating Partners","Collaborating Partners"],i=["members","cooperating-partner","collaborating-partners"],a=0;a<n.length;a++)e.innerHTML+='<i class="'+i[a]+'"></i> '+n[a]+"<br>";return e},e.addTo(j)},q=function(){t("#dariahWindow ul a").on("click",e),t("#mapNav a").on("click",function(e){e.preventDefault(),e.stopPropagation(),g(t(e.target).data("type"))}),t("#dariahWindow .close").on("click",function(t){t.preventDefault(),t.stopPropagation(),y(),g(P),window.location.hash=""}),g(E),window.location.hash&&o(window.location.hash.substring(1).toUpperCase())};t(window).ready(function(){0!==t("#dariahMap").length&&(W=L.icon({iconUrl:N+"images/map-leaflet-marker-project-small.png",iconSize:[22,28],iconAnchor:[11,24],popupAnchor:[1,-20]}),O=L.icon({iconUrl:N+"images/map-leaflet-marker-country.png",iconSize:[37,47],iconAnchor:[18,41],popupAnchor:[-3,-76]}),t.getJSON(N+"map/dynamic-data.json",function(t){I=t,R(),q()}))})}(jQuery),function(t){var e,n=function(e){e.preventDefault(),e.stopPropagation(),t("#positions .contact-list").show(),t("#positions .contact-complete").hide(),t("#positions .contact-complete").empty()},i=function(i){i.preventDefault(),i.stopPropagation(),t("#positions .contact-complete").empty();var a=e.persons[t(i.target).data("id")];if(a){var o="";o+='<div class="'+a.imageClasses+'" style="background-image: url('+a.image+');"></div>',o+='<div class="content">',o+="<h2>"+a.firstname+" "+a.lastname+"</h2>",a.position&&(o+='<p class="position">'+a.position+"</p>"),o+='<p class="description-full">'+a.full+"</p>",a.skills&&(o+='<p class="skills"><span class="title">Skills and research fields:</span>'+a.skills+"</p>"),a.link&&(o+='<a href="'+a.link+'" target="_blank" class="link about">About</a>'),a.email&&(o+='<a href="mailto:'+a.email+'" class="dariah-mail">Email</a>'),o+="</div>",o+='<a href="#" class="back">< BACK TO LIST</a>',t("#positions .contact-complete").append(o),t("#positions .back").on("click",n),t("#positions .contact-list").hide(),t("#positions .contact-complete").show(),t("html,body").animate({scrollTop:t("#contactComplete").offset().top-t(".mt_menu").height()-10},"slow")}},a=function(e){e.preventDefault(),e.stopPropagation(),t("#positions").hide(),t("#positions .contact-list").empty().show(),t("#positions .contact-complete").empty().hide()},o=function(n){var a=dariahPositionsData[n.currentTarget.id];if(!a)return t("#positions").hide(),void(e=null);if(e=a,t("#positions h2").text(a.name),t("#positions .description").html(a.description),t("#positions .contact-list").empty(),"working-groups"!==n.currentTarget.id)for(var o=0;o<a.persons.length;o++){var s=a.persons[o],r='<li><div class="person-desc">';r+='<div class="'+s.imageClasses+'" style="background-image: url('+s.image+');"></div>',r+='<div class="content">',r+='<p class="name">'+s.firstname+" "+s.lastname+"</p>",s.position&&(r+='<p class="position">'+s.position+"</p>"),r+='<p class="description-excerpt">'+s.excerpt+"</p>",s.displayMore&&(r+='<a href="#" class="link see-more" data-id="'+o+'">See more</a>'),s.email&&(r+='<a href="mailto:'+s.email+'" class="dariah-mail">Email</a>'),r+="</div></div></li>",t("#positions .contact-list").append(r)}t("#positions .see-more").on("click",i),t("#positions").show(),t("html, body").animate({scrollTop:t("#positions").offset().top-50},1e3)};t(window).ready(function(){t("svg #blocs g").on("click",o),t("#positions .close").on("click",a)})}(jQuery),function(t){function e(t){var e;if("function"==typeof Object.keys)e=Object.keys(t);else for(var n in t)e.push(n);return e.sort(function(e,n){return"object"==typeof t[e]?t[e].name.localeCompare(t[n].name):t[e].localeCompare(t[n])})}function n(e){if(t(e.target).hasClass("filter-more")){e.preventDefault(),e.stopPropagation();var n=t(e.target).closest("section");t(n).addClass("all"),t(n).find('li:not(".unavailable")').show(),i()}if(t(e.target).hasClass("filter-less")){e.preventDefault(),e.stopPropagation();var a=t(e.target).closest("section");t(a).removeClass("all"),i()}}function i(){t("#filters section").each(function(){var e=t(this).hasClass("all"),n=t(this).find("li").not(".unavailable");t(n).length<=l?t(this).find(".more-less").hide():t(this).find(".more-less").show(),t(n).show(),e||t(n).filter(function(t){return t>l}).hide()})}var a,o,s=0,r=10,l=5,c=[],p=!0,d="/wp-content/themes/thefox-child/",u=function(){var n="<section>";n+="<h4>DARIAH bodies</h4>",n+="<ul>";var o=e(a.positions);for(var s in o){var r=o[s],l=a.positions[r];d="position"+r,n+='<li><input id="'+d+'" name="positions" type="checkbox" value="'+r+'"/><label for="'+d+'">'+l+"</label></li>"}n+="</ul>",n+='<div class="more-less">',n+='<a href="#" class="filter-more">+ More</a>',n+='<a href="#" class="filter-less">- Less</a>',n+="</div>",n+="</section>",t("#filters").append(n);var c="<section>";c+="<h4>Countries</h4>",c+="<ul>";var p=e(a.countries),d="";for(var u in p){var h=p[u],f=a.countries[h];d="country"+h,c+='<li><input id="'+d+'" name="countries" type="checkbox" value="'+h+'"/><label for="'+d+'">'+f+"</label></li>"}c+="</ul>",c+='<div class="more-less">',c+='<a href="#" class="filter-more">+ More</a>',c+='<a href="#" class="filter-less">- Less</a>',c+="</div>",c+="</section>",t("#filters").append(c),t('#filters input[type="checkbox"]').change(v),i()},h=function(e,n,i){if((e||n||i)&&t('#filters input[type="checkbox"]').parent().addClass("unavailable"),c=a.persons.filter(function(t){return!(e&&e.indexOf(t.country)===-1||n&&n.indexOf(t.institution)===-1||i&&i.indexOf(t.position)===-1)}).map(function(e){t("#country"+e.country).parent().removeClass("unavailable"),t("#institution"+e.institution).parent().removeClass("unavailable"),t("#position"+e.position).parent().removeClass("unavailable");var n='<li data-person-id="'+e.id+'">';return n+='<div class="header">',n+='<div class="thumb"><img src="'+e.avatar+'" /></div>',n+="<p>",n+='<span class="name">'+e.firstname+" "+e.lastname+"</span>",e.role&&(n+='<span class="role">'+e.role+"</span>"),e.position&&(n+='<span class="position">'+a.positions[e.position]+"</span>"),n+="</p>",n+='<button class="show-more" data-complete-profile="'+e.id+'">See More</button><button class="show-less">See Less</button>',n+="</div>",n+='<div class="complete">',n+='<ul class="tabs">',n+='<li class="about selected"><a href="#" data-tab="about">About</a></li>',n+='<li class="position"><a href="#" data-tab="position">Position</a></li>',n+='<li class="fields"><a href="#" data-tab="fields">Fields of expertise</a></li>',n+='<li class="contact"><a href="#" data-tab="contact">Contact</a></li>',n+="</ul>",n+='<ul class="content">',n+='<li class="about selected">'+e.about+"</li>",n+='<li class="position">',n+='<ul class="list">',e.identifiant&&(n+="<li>Researcher ID : <span>"+e.identifiant+"</span></li>"),e.role&&(n+="<li>Role : <span>"+e.role+"</span></li>"),e.position&&(n+="<li>Administrative position : <span>"+a.positions[e.position]+"</span></li>"),e.institution&&(n+="<li>Institution : <span>"+a.institutions[e.institution].name+"</span></li>"),e.country&&(n+="<li>Country : <span>"+a.countries[e.country]+"</span></li>"),n+="</ul>",n+="</li>",n+='<li class="fields">'+e.skills+"</li>",n+='<li class="contact">',n+='<ul class="list">',e.email&&(n+='<li>Email : <span><a href="mailto:'+e.email+'">'+e.email+"</a></span></li>"),e.link&&(n+='<li>Link : <span><a href="'+e.link+'" target="_blank">'+e.link+"</a></span></li>"),e.twitter&&(n+='<li>Twitter : <span><a href="https://twitter.com/'+e.twitter+'" target="_blank">@'+e.twitter+"</a></span></li>"),n+="</ul>",n+="</li>",n+="</ul></div>",n+="</li>"}),p||(c=c.reverse()),o=Math.ceil(c.length/r),t("#pagination").empty(),o>1){t("#pagination").append("<ul></ul>"),t("#pagination ul").append('<li id="previous"><a href="#" data-action="previous">< Previous</a></li>');for(var s=0;s<o;s++)t("#pagination ul").append('<li class="page'+s+'"><a href="#" data-action="'+s+'">'+(s+1)+"</a></li>");t("#pagination ul").append('<li id="next"><a href="#" data-action="next">Next ></a></li>'),t("#pagination").show()}else t("#pagination").hide();m(0,!0)},f=function(t){p=!p,c=c.reverse(),m(0,!1)},m=function(e,n){t("#results").empty();var i=e*r,a=i+1+" - "+Math.min(i+r,c.length)+" of "+c.length;a+=c.length>1?" peoples":" people";var l="Sort by "+(p?"Z-A":"A-Z"),d='<div class="head">'+a+'<a href="#" data-sort="true" class="right">'+l+"</a></div>";d+='<ul class="results">',d+=c.slice(i,i+r).join(""),d+="</ul>",t("#pagination li").removeClass("selected"),t("#pagination .page"+e).addClass("selected"),t("#results").append(d),s=e,0!==s&&o>1?t("#previous").show():t("#previous").hide(),s<o-1&&o>1?t("#next").show():t("#next").hide(),n&&window.innerWidth<768&&t("html, body").animate({scrollTop:0},500)},v=function(e){t("#filters section").removeClass("all");var n=t('input[name="countries"]:checked').map(function(){return parseInt(t(this).val(),10)}).get(),a=t('input[name="institutions"]:checked').map(function(){return parseInt(t(this).val(),10)}).get(),o=t('input[name="positions"]:checked').map(function(){return parseInt(t(this).val(),10)}).get();s=0,h(n.length>0?n:null,a.length>0?a:null,o.length>0?o:null),i()},g=function(t){t.preventDefault(),t.stopPropagation();var e=t.target.getAttribute("data-action");switch(e){case"previous":m(s-1,!0);break;case"next":m(s+1,!0);break;default:e&&m(parseInt(e,10),!0)}},w=function(e){var n=e.target.getAttribute("data-tab"),i=e.target.getAttribute("data-complete-profile"),a=e.target.getAttribute("data-sort");if(n){e.preventDefault(),e.stopPropagation();var o=t(e.target).closest(".complete");t(o).find("li").removeClass("selected"),t(o).find("."+n).addClass("selected")}i&&(t("[data-person-id]").removeClass("show-complete"),t("[data-person-id="+i+"] li").removeClass("selected"),t("[data-person-id="+i+"] .about").addClass("selected"),t("[data-person-id="+i+"]").addClass("show-complete")),a&&(e.preventDefault(),e.stopPropagation(),f()),t(e.target).hasClass("show-less")&&t("[data-person-id]").removeClass("show-complete")};t(window).ready(function(){0!==t("#dariahYearbook").length&&t.getJSON(d+"build/yearbook.json",function(e){a=e,u(),h(),t("#pagination").on("click",g),t("#results").on("click",w),t("#filters").on("click",n)})})}(jQuery);